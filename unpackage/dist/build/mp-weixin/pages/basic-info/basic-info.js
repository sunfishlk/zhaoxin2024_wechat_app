"use strict";const e=require("../../common/vendor.js"),a=require("../../utils/log.js");Math||l();const l=()=>"../../component/CollegeCard.js",t={__name:"basic-info",setup(l){const t=e.ref(""),n=e.ref(""),o=e.ref(""),u=e.ref(""),i=e.ref(""),r=e.ref(""),v=()=>{if(""===n.value.trim())return void e.index.showToast({title:"姓名不能为空",icon:"none"});if(""===o.value.trim())return void e.index.showToast({title:"书院不能为空",icon:"none"});if(""===u.value.trim())return void e.index.showToast({title:"手机不能为空",icon:"none"});if(!/^1[3-9]\d{9}$/.test(u.value))return void e.index.showToast({title:"手机号码格式不正确",icon:"none"});if(""===i.value.trim())return void e.index.showToast({title:"邮箱不能为空",icon:"none"});/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(i.value)?""!==r.value.trim()?(e.index.setStorageSync("studentNumber",t.value),e.index.setStorageSync("name",n.value),e.index.setStorageSync("college",o.value),e.index.setStorageSync("phoneNumber",u.value),e.index.setStorageSync("email",i.value),e.index.setStorageSync("whereKnow",r.value),e.index.navigateTo({url:"/pages/main-department/main-department"})):e.index.showToast({title:"从哪里知道我们不能为空",icon:"none"}):e.index.showToast({title:"邮箱格式不正确",icon:"none"})},d=e.ref(["rule","hide"]),s=e.ref(["rule","hide"]),c=e.ref(["rule","hide"]),g=e.ref(["rule","hide"]),S=e.ref(["rule","hide"]),m=()=>{""===n.value.trim()?d.value=["rule"]:d.value=["rule","hide"]},x=()=>{""===u.value.trim()?c.value=["rule"]:c.value=["rule","hide"]},h=()=>{""===i.value.trim()?g.value=["rule"]:g.value=["rule","hide"]},f=()=>{""===r.value.trim()?S.value=["rule"]:S.value=["rule","hide"]},y=e.ref(!1),w=e=>{o.value=e,p()},p=()=>{y.value=!1},b=()=>{y.value=!0},T=e.ref(!1),N=getApp().globalData.baseUrl;return e.onMounted((()=>{""!==e.index.getStorageSync("studentNumber")&&(t.value=e.index.getStorageSync("studentNumber")),""!==e.index.getStorageSync("name")&&(n.value=e.index.getStorageSync("name")),""!==e.index.getStorageSync("college")&&(o.value=e.index.getStorageSync("college")),""!==e.index.getStorageSync("phoneNumber")&&(u.value=e.index.getStorageSync("phoneNumber")),""!==e.index.getStorageSync("email")&&(i.value=e.index.getStorageSync("email")),""!==e.index.getStorageSync("whereKnow")&&(r.value=e.index.getStorageSync("whereKnow")),e.index.request({url:`${N}/api/version?version=1`,method:"GET",success:l=>{a.log.info({responseData:l}),!1===l.data.success?e.index.showToast({title:l.data.message,icon:"none"}):!0===l.data.data.formal?(T.value=!0,n.value="test1",u.value="13800138000",i.value="1@1.com",console.log(n.value)):T.value=!1},fail:a=>{console.log(a),e.index.showToast({title:JSON.stringify(a),icon:"none"})}})})),(a,l)=>e.e({a:e.n({show:y.value}),b:e.o(p),c:e.o(w),d:e.o(p),e:e.n({"college-card-show":y.value}),f:e.p({collegeProps:o.value}),g:!T.value},(T.value,{}),{h:!T.value},T.value?{}:{i:e.o(m),j:n.value,k:e.o((e=>n.value=e.detail.value))},{l:e.n(d.value),m:e.t(o.value),n:e.o(b),o:e.n(s.value),p:!T.value},(T.value,{}),{q:!T.value},T.value?{}:{r:e.o(x),s:u.value,t:e.o((e=>u.value=e.detail.value))},{v:e.n(c.value),w:!T.value},(T.value,{}),{x:!T.value},T.value?{}:{y:e.o(h),z:i.value,A:e.o((e=>i.value=e.detail.value))},{B:e.n(g.value),C:e.o(f),D:r.value,E:e.o((e=>r.value=e.detail.value)),F:e.n(S.value),G:e.o(v)})}},n=e._export_sfc(t,[["__scopeId","data-v-8e49332b"]]);wx.createPage(n);
